<!DOCTYPE html>
<html lang="en" class="">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Peter's Portfolio</title>
  <script>
    // Handle redirect from 404.html for client-side routing on GitHub Pages
    (function() {
      const redirect = sessionStorage.redirect;
      delete sessionStorage.redirect;
      if (redirect && redirect !== window.location.pathname) {
        window.history.replaceState(null, null, redirect);
      }
    })();
  </script>
  <script>
    // Dark mode script - must run before page loads - DEFAULT TO DARK
    (function() {
      try {
        const savedTheme = localStorage.getItem('theme');

        // Default to dark theme
        if (savedTheme === 'light') {
          document.documentElement.classList.remove('dark');
          document.documentElement.setAttribute('data-theme', 'light');
        } else {
          // Default to dark for all other cases (no saved theme, or saved as 'dark')
          document.documentElement.classList.add('dark');
          document.documentElement.setAttribute('data-theme', 'dark');
          if (!savedTheme) {
            localStorage.setItem('theme', 'dark');
          }
        }
      } catch (e) {
        // Fallback to dark mode if localStorage is not available
        document.documentElement.classList.add('dark');
        document.documentElement.setAttribute('data-theme', 'dark');
      }
    })();
  </script>
  <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
  <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Geist:wght@400;500;600;700&display=swap">
  <link rel="stylesheet" href="/personal-website/custom.css">
  <style>
    body {
      font-family: 'Geist', sans-serif;
    }

    /* Light mode (default) */
    html:not(.dark) {
      background-color: #f3f4f6;
      color: #1f2937;
    }

    html:not(.dark) body {
      background-color: #f3f4f6;
      color: #1f2937;
    }

    /* Dark mode */
    html.dark {
      color-scheme: dark;
      background-color: #111827;
      color: #ffffff;
    }

    html.dark body {
      background-color: #111827;
      color: #ffffff;
    }

    /* Custom animations */
    @keyframes float {
      0%, 100% { transform: translateY(0px); }
      50% { transform: translateY(-10px); }
    }

    .animate-float {
      animation: float 3s ease-in-out infinite;
    }

    .animate-spin-slow {
      animation: spin 20s linear infinite;
    }

    /* Gradient text support */
    .bg-clip-text {
      -webkit-background-clip: text;
      background-clip: text;
      -webkit-text-fill-color: transparent;
    }

    /* Better backdrop blur */
    .backdrop-blur-sm {
      backdrop-filter: blur(4px);
      -webkit-backdrop-filter: blur(4px);
    }
  </style>
</head>
<body class="transition-colors duration-300">
  <div id="root"></div>
</body>
</html>
